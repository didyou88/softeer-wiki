# 📝 학습 일지
**날짜:** 2025.07.14 (월)

- [X] W2 전체 과제 살펴보고 설계 고민
- [ ] W2-Step1 과제 수행
  - [X] 회원가입 API method GET -> POST 변경
  - [X] 회원가입 정보 이메일 추가 (static 파일 변경 필요)
  - [ ] 회원가입 후 redirection 적용
        
<br/>

##  1️⃣ 리뷰

### 💡 오늘의 주요 고민 사항

#### 1. WebServer 구조 설계 - 책임을 어떻게 나눌 것인가?

오늘은 Week2 과제를 전체적으로 분석하면서 **WebServer의 구조를 리팩토링**하는 데 초점을 맞췄다.  
핵심은 '책임 분리'. 각 객체가 꼭 필요한 역할만 수행하도록 구조를 설계하는 것. 기존에는 `response` 패키지 내부에서 응답, 파싱, 라우팅, 처리 등 거의 모든 책임이 몰려 있었다. 그래서 이번엔 다음과 같이 역할을 분리했다.

```plaintext
Client
  ↓
RequestHandler
  ↓
HttpRequest → Router → ApiMapping → ApiResolver → ApiHandler
                                         ↓
                                    HttpResponse
                                         ↓
                                       Client

```
(정적 파일의 경우 Router → ViewResolver로 분기)


`api` 요청과 `view` 요청(정적 파일)을 명확히 분리했고, `ApiMapping`, `ApiResolver`, `ApiHandler`로 계층화해서 관리하기로 했다.

<br/>

#### 2. API 라우팅 구조 — Map을 어떻게 구성해야 할까?

가장 고민이 많았던 부분은 `ApiMapping`에서 어떤 방식으로 요청을 분기할지였다. 기존에는 단순히 `if-else`로 `path`만 구분했는데, 이 방식은 아래와 같은 문제가 있다.

- 중복 코드가 많아짐  
- 새로운 API가 추가될수록 `if`가 늘어남 → 유지보수 부담  
- 실수로 조건을 빼먹으면 오류 발생  

그래서 다음과 같이 구조를 변경했다.

```java
Map<String, Map<String, ApiResolver>> apiMap = new HashMap<>();
```

Java 기초 수업 시간에 배운 중첩 제네릭을 직접 사용해보며, 실무에서의 적용법을 익힐 수 있었다.

<br/>

### 📌 배운 점

재현님: record 타입에 대해 알려주셨다. Java에서도 간결한 데이터 전달 객체를 정의할 수 있는데, 이를 통해 불변 객체를 간단히 정의하고, boilerplate 코드를 줄일 수 있다. 이번 프로젝트에선 응답 결과를 담는 DTO 등에 활용하면 좋을 것 같다.

<br/>

##  2️⃣ 회고 (KPT)

#### ✅ KEEP (잘한 점 / 유지하고 싶은 습관)

  - K1. 질문의 구조화  
    단순히 "왜 그런지 모르겠다"가 아니라, "어떤 기능인지 → 어떤 흐름에서 이해가 안 됐는지 → 어떤 점이 헷갈리는지"를 정리해서 질문했다.
    스쿼드 세션을 여러 번 거치면서 내 질문의 질이 정리되고 있는 걸 느꼈다.

  - K2. 오브젝트 책 읽기 시작  
    하기로 한 건 꼭 해내자는 마음으로 주말에 책을 빌려왔다. 이번 주 내 완독이 목표!

#### 🧩 Problem (아쉬웠던 점 / 놓친 부분)

  - P1. 개발 착수까지 시간이 오래 걸림. 전체 흐름을 먼저 다 설계하려는 습관이 있다 보니, 실제 기능 구현에 들어가기까지 시간이 오래 걸리는 경향이 있다. 그룹 세션 때도 상대적으로 진도가 느린 편이었다.

  - P2. 일지 작성에 너무 많은 시간 소요. 지나고 나서 몰아서 회고하려니 정리도 안 되고 오래 걸렸다.

#### 🚀 Try (다음에 시도할 것 / 개선 방향)

 - T1. 리팩토링은 '여유 있을 때' 하자. 설계는 꼭 필요한 부분만 우선 정리하고, 우선 동작 가능한 최소 단위부터 구현 시작. 금요일까지 학습을 위한 필수 기능을 구현하고, 구조 리팩토링은 주말에 여유 있게 하기로 하자.
 
 - T2. 일지 작성 루틴화하기. 작업 도중 메모를 남겨두고, 일지에는 요약만 정리. 회고 작성 시간을 줄이자.

<br/>

